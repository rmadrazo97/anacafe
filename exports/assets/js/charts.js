var hours = ['Do 22:00', 'Do 23:00', 'Lu 00:00', 'Lu 01:00', 'Lu 02:00', 'Lu 03:00', 'Lu 04:00', 'Lu 05:00', 'Lu 06:00', 'Lu 07:00', 'Lu 08:00', 'Lu 09:00', 'Lu 10:00', 'Lu 11:00', 'Lu 12:00', 'Lu 13:00', 'Lu 14:00', 'Lu 15:00', 'Lu 16:00', 'Lu 17:00', 'Lu 18:00', 'Lu 19:00', 'Lu 20:00', 'Lu 21:00', 'Lu 22:00', 'Lu 23:00', 'Ma 00:00', 'Ma 01:00', 'Ma 02:00', 'Ma 03:00', 'Ma 04:00', 'Ma 05:00', 'Ma 06:00', 'Ma 07:00', 'Ma 08:00', 'Ma 09:00', 'Ma 10:00', 'Ma 11:00', 'Ma 12:00', 'Ma 13:00', 'Ma 14:00', 'Ma 15:00', 'Ma 16:00', 'Ma 17:00', 'Ma 18:00', 'Ma 19:00', 'Ma 20:00', 'Ma 21:00', 'Ma 22:00', 'Ma 23:00', 'Mi 00:00', 'Mi 01:00', 'Mi 02:00', 'Mi 03:00', 'Mi 04:00', 'Mi 05:00', 'Mi 06:00', 'Mi 07:00', 'Mi 08:00', 'Mi 09:00', 'Mi 10:00', 'Mi 11:00', 'Mi 12:00', 'Mi 13:00', 'Mi 14:00', 'Mi 15:00', 'Mi 16:00', 'Mi 17:00', 'Mi 18:00', 'Mi 19:00', 'Mi 20:00', 'Mi 21:00', 'Mi 22:00', 'Mi 23:00', 'Ju 00:00', 'Ju 01:00', 'Ju 02:00', 'Ju 03:00', 'Ju 04:00', 'Ju 05:00', 'Ju 06:00', 'Ju 07:00', 'Ju 08:00', 'Ju 09:00', 'Ju 10:00', 'Ju 11:00', 'Ju 12:00', 'Ju 13:00', 'Ju 14:00', 'Ju 15:00', 'Ju 16:00', 'Ju 17:00', 'Ju 18:00', 'Ju 19:00', 'Ju 20:00', 'Ju 21:00', 'Ju 22:00', 'Ju 23:00', 'Vi 00:00', 'Vi 01:00', 'Vi 02:00', 'Vi 03:00', 'Vi 04:00', 'Vi 05:00', 'Vi 06:00', 'Vi 07:00', 'Vi 08:00', 'Vi 09:00', 'Vi 10:00', 'Vi 11:00', 'Vi 12:00', 'Vi 13:00', 'Vi 14:00', 'Vi 15:00', 'Vi 16:00', 'Vi 17:00', 'Vi 18:00', 'Vi 19:00', 'Vi 20:00', 'Vi 21:00', 'Vi 22:00', 'Vi 23:00', 'Sa 00:00', 'Sa 01:00', 'Sa 02:00', 'Sa 03:00', 'Sa 04:00', 'Sa 05:00', 'Sa 06:00', 'Sa 07:00', 'Sa 08:00', 'Sa 09:00', 'Sa 10:00', 'Sa 11:00', 'Sa 12:00', 'Sa 13:00', 'Sa 14:00', 'Sa 15:00', 'Sa 16:00', 'Sa 17:00', 'Sa 18:00', 'Sa 19:00', 'Sa 20:00', 'Sa 21:00', 'Sa 22:00', 'Sa 23:00', 'Do 00:00', 'Do 01:00', 'Do 02:00', 'Do 03:00', 'Do 04:00', 'Do 05:00', 'Do 06:00', 'Do 07:00', 'Do 08:00', 'Do 09:00', 'Do 10:00', 'Do 11:00', 'Do 12:00', 'Do 13:00', 'Do 14:00', 'Do 15:00', 'Do 16:00', 'Do 17:00', 'Do 18:00', 'Do 19:00', 'Do 20:00', 'Do 21:00', 'Do 22:00'];
var pcpn = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var cloud = [5.1, 5.1, 5, 4.6, 4, 3.6, 3.4, 3.3, 3, 2.5, 2, 1.6, 1.6, 1.7, 2, 3.2, 4.8, 6.1, 6.5, 6.7, 6.7, 6.5, 6.1, 5.9, 5.7, 5.6, 5.4, 4.9, 4.4, 4, 3.8, 3.8, 3.7, 3.5, 3.2, 3, 2.9, 2.8, 2.9, 4, 5.5, 6.7, 7.1, 7.2, 7, 6.5, 5.8, 5.3, 5.3, 5.4, 5.4, 5.1, 4.6, 4.2, 4, 4, 3.9, 3.7, 3.4, 3.2, 3.1, 3.1, 3.2, 3.8, 4.8, 5.5, 5.9, 6, 6.1, 6.3, 6.4, 6.4, 6.2, 5.9, 5.5, 5.1, 4.5, 4, 3.7, 3.3, 3.1, 0, 0, 0, 0, 0, 0, 0.8, 1.9, 2.8, 3.4, 3.8, 4.1, 4.1, 3.9, 3.6, 3.1, 2.5, 1.9, 1.2, 0.5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1.1, 2.7, 4, 4.5, 4.7, 4.8, 4.8, 4.7, 4.4, 4, 3.5, 2.8, 1.9, 0.8, 0.1, 0, 0, 0, 0.1, 0.3, 0.4, 0.4, 0.4, 0.7, 2, 3.8, 5.1, 5.5, 5.5, 5.5, 5.3, 5.1, 4.7, 4.2, 3.5, 3, 2.5, 2.1, 1.9, 2, 2.1, 2.1, 1.8, 1.4, 1.1, 0.9, 0.8, 1, 1.6, 2.4, 3.1, 3.5, 3.8, 3.9, 3.3, 2.3, 1.5, 1.2];
var temp = [11.7, 11.5, 11.2, 10.8, 10.5, 10.5, 10.4, 10.3, 10.5, 11.9, 14, 15.9, 17.5, 19.1, 20.1, 22, 20.9, 19.4, 18, 16.3, 14.9, 14, 13, 12.3, 11.8, 11.5, 11.1, 10.8, 10.8, 10.9, 10.8, 10.6, 10.9, 12.4, 14.5, 16.7, 19.1, 21.2, 22.6, 22.4, 21.1, 19.5, 18, 16.7, 15.5, 14.7, 13.7, 13, 12.6, 12.4, 12.1, 12, 11.8, 11.9, 11.6, 11.2, 11.3, 13, 15.4, 17.8, 20.2, 22.3, 23.8, 23.8, 22.7, 21.2, 19.5, 17.8, 16.4, 15.5, 14.5, 13.8, 13.3, 13, 12.6, 12.1, 11.8, 11.3, 10.9, 10.6, 10.9, 13.6, 17.1, 20, 22.2, 24.5, 25.9, 26.2, 25.3, 23.7, 21.7, 19.7, 17.9, 16.6, 15, 13.8, 13.2, 13, 12.6, 12.5, 12.4, 12.4, 12, 11.7, 12, 14.2, 17.1, 20.1, 22.7, 25, 26.4, 26.1, 24.7, 22.8, 21, 19.3, 17.9, 16.9, 15.6, 14.5, 13.8, 13.3, 12.8, 12.7, 12.4, 12.5, 12.3, 12, 12.4, 14.5, 17.2, 20.1, 22.7, 25, 26.5, 26.2, 24.8, 22.9, 21.2, 19.4, 18, 17, 15.8, 14.8, 14.3, 14.2, 14, 14, 13.8, 13.9, 13.7, 13.5, 13.7, 15, 17.2, 19.7, 22.1, 24.2, 25.9, 25.9, 25, 23.2, 21.4, 19.5, 17.8, 16.5, 14.9, 13.7, 13.1];
var wind = [[17, 42], [18, 42], [19, 42], [19, 48], [17, 47], [15, 40], [14, 34], [14, 32], [13, 43], [14, 71], [15, 98], [16, 107], [16, 115], [15, 129], [15, 138], [16, 139], [16, 136], [16, 130], [16, 124], [15, 113], [15, 101], [14, 93], [13, 73], [13, 49], [13, 37], [13, 31], [12, 28], [11, 35], [9, 14], [8, 6], [8, 359], [8, 355], [8, 17], [9, 92], [10, 134], [11, 168], [12, 179], [13, 170], [14, 161], [14, 156], [14, 153], [14, 150], [13, 142], [13, 129], [12, 118], [12, 107], [11, 83], [11, 57], [11, 45], [11, 43], [11, 42], [11, 43], [10, 43], [9, 39], [9, 35], [8, 22], [8, 35], [9, 96], [10, 127], [11, 144], [13, 147], [15, 142], [17, 139], [18, 136], [19, 132], [19, 127], [18, 118], [17, 105], [16, 98], [15, 95], [14, 74], [12, 55], [12, 47], [11, 44], [11, 40], [10, 35], [10, 22], [9, 17], [9, 22], [9, 23], [9, 31], [9, 90], [9, 121], [9, 124], [12, 120], [16, 122], [19, 123], [20, 123], [20, 123], [20, 123], [18, 123], [16, 121], [13, 121], [11, 110], [9, 86], [8, 62], [8, 48], [9, 44], [9, 43], [9, 40], [8, 37], [8, 30], [8, 19], [8, 10], [8, 38], [9, 97], [9, 133], [10, 157], [12, 158], [15, 147], [17, 141], [17, 139], [17, 138], [17, 134], [16, 126], [16, 117], [15, 112], [12, 109], [9, 95], [7, 79], [6, 61], [7, 47], [8, 41], [7, 38], [7, 35], [7, 29], [7, 14], [7, 1], [7, 38], [7, 100], [8, 131], [9, 164], [11, 170], [14, 154], [16, 144], [16, 143], [16, 142], [15, 141], [15, 138], [15, 133], [15, 129], [13, 114], [11, 88], [9, 69], [8, 50], [7, 36], [7, 35], [7, 36], [7, 16], [7, 14], [8, 10], [9, 4], [9, 10], [9, 79], [8, 108], [8, 104], [10, 78], [13, 104], [15, 110], [16, 106], [18, 100], [19, 94], [19, 84], [20, 74], [20, 70], [17, 71], [13, 63], [11, 46], [12, 37]];
var windVal = [17, 18, 19, 19, 17, 15, 14, 14, 13, 14, 15, 16, 16, 15, 15, 16, 16, 16, 16, 15, 15, 14, 13, 13, 13, 13, 12, 11, 9, 8, 8, 8, 8, 9, 10, 11, 12, 13, 14, 14, 14, 14, 13, 13, 12, 12, 11, 11, 11, 11, 11, 11, 10, 9, 9, 8, 8, 9, 10, 11, 13, 15, 17, 18, 19, 19, 18, 17, 16, 15, 14, 12, 12, 11, 11, 10, 10, 9, 9, 9, 9, 9, 9, 9, 12, 16, 19, 20, 20, 20, 18, 16, 13, 11, 9, 8, 8, 9, 9, 9, 8, 8, 8, 8, 8, 9, 9, 10, 12, 15, 17, 17, 17, 17, 16, 16, 15, 12, 9, 7, 6, 7, 8, 7, 7, 7, 7, 7, 7, 7, 8, 9, 11, 14, 16, 16, 16, 15, 15, 15, 15, 13, 11, 9, 8, 7, 7, 7, 7, 7, 8, 9, 9, 9, 8, 8, 10, 13, 15, 16, 18, 19, 19, 20, 20, 17, 13, 11, 12];
var barbs = [[5, 42], [5, 42], [5, 42], [5, 48], [5, 47], [4, 40], [4, 34], [4, 32], [4, 43], [4, 71], [4, 98], [4, 107], [4, 115], [4, 129], [4, 138], [4, 139], [5, 136], [5, 130], [4, 124], [4, 113], [4, 101], [4, 93], [4, 73], [4, 49], [4, 37], [4, 31], [3, 28], [3, 35], [3, 14], [2, 6], [2, 359], [2, 355], [2, 17], [3, 92], [3, 134], [3, 168], [3, 179], [4, 170], [4, 161], [4, 156], [4, 153], [4, 150], [4, 142], [4, 129], [3, 118], [3, 107], [3, 83], [3, 57], [3, 45], [3, 43], [3, 42], [3, 43], [3, 43], [3, 39], [2, 35], [2, 22], [2, 35], [2, 96], [3, 127], [3, 144], [4, 147], [4, 142], [5, 139], [5, 136], [5, 132], [5, 127], [5, 118], [5, 105], [4, 98], [4, 95], [4, 74], [3, 55], [3, 47], [3, 44], [3, 40], [3, 35], [3, 22], [3, 17], [2, 22], [2, 23], [2, 31], [3, 90], [2, 121], [3, 124], [3, 120], [4, 122], [5, 123], [6, 123], [6, 123], [6, 123], [5, 123], [4, 121], [4, 121], [3, 110], [3, 86], [2, 62], [2, 48], [2, 44], [2, 43], [2, 40], [2, 37], [2, 30], [2, 19], [2, 10], [2, 38], [2, 97], [3, 133], [3, 157], [3, 158], [4, 147], [5, 141], [5, 139], [5, 138], [5, 134], [5, 126], [4, 117], [4, 112], [3, 109], [3, 95], [2, 79], [2, 61], [2, 47], [2, 41], [2, 38], [2, 35], [2, 29], [2, 14], [2, 1], [2, 38], [2, 100], [2, 131], [2, 164], [3, 170], [4, 154], [4, 144], [4, 143], [4, 142], [4, 141], [4, 138], [4, 133], [4, 129], [4, 114], [3, 88], [2, 69], [2, 50], [2, 36], [2, 35], [2, 36], [2, 16], [2, 14], [2, 10], [2, 4], [3, 10], [3, 79], [2, 108], [2, 104], [3, 78], [4, 104], [4, 110], [5, 106], [5, 100], [5, 94], [5, 84], [6, 74], [5, 70], [5, 71], [4, 63], [3, 46], [3, 37]];
var pres = [[1017], [1018], [1017], [1015], [1011], [1010], [1010], 1019, 1019, 1020, 1019, 1019, 1019, 1019, 1019, 1019, 1020, 1020, 1020, 1020, 1019, 1018, 1017, 1016, 1015, 1015, 1016, 1016, 1017, 1018, 1019, 1019, 1019, 1019, 1019, 1018, 1018, 1018, 1018, 1018, 1018, 1019, 1019, 1018, 1017, 1016, 1015, 1014, 1014, 1014, 1014, 1015, 1015, 1016, 1017, 1017, 1017, 1017, 1016, 1016, 1016, 1016, 1016, 1016, 1016, 1016, 1016, 1016, 1015, 1014, 1013, 1012, 1012, 1012, 1012, 1013, 1013, 1014, 1015, 1015, 1015, 1015, 1015, 1014, 1014, 1014, 1015, 1015, 1012, 1012, 1012, 1012, 1011, 1010, 1009, 1008, 1007, 1007, 1007, 1008, 1009, 1010, 1011, 1012, 1012, 1011, 1011, 1010, 1010, 1010, 1011, 1011, 1011, 1012, 1012, 1011, 1010, 1009, 1008, 1007, 1006, 1006, 1007, 1008, 1009, 1010, 1011, 1011, 1011, 1011, 1011, 1010, 1010, 1010, 1010, 1011, 1011, 1011, 1011, 1011, 1010, 1009, 1008, 1007, 1006, 1006, 1007, 1008, 1009, 1010, 1011, 1011, 1012, 1012, 1011, 1011, 1010, 1010, 1011, 1012, 1012, 1012, 1012, 1011, 1011, 1010, 1009, 1008, 1008, 1008, 1009, 1009, 1010, 1012, 1012, 1013];
var city = 'La Esperanza GT';

var chart_temps = Highcharts.chart('chart-temps', {
    chart: {
        zoomType: 'xy', backgroundColor: '#F8F8F8', panning: true
    },
    title: {
        text: city
    },
    //         subtitle: {
    //             text: 'La Esperanza, Quetzaltenango, 09023, Guatemala'
    //         },
    xAxis: [{
        categories: hours, min: 0, max: Math.round(24 * 2),  //dias iniciales
        crosshair: true,

        /*   scrollbar: {
             enabled: true
         }, */

    }],



    plotOptions: {
        series: {
            marker: {
                enabled: false
            }
        }
    },
    yAxis: [{ // Primary yAxis
        labels: {
            format: '{value}',
            style: {
                color: Highcharts.getOptions().colors[1]
            }
        },
        title: {
            text: 'Temperatura (ºC)',
            style: {
                color: Highcharts.getOptions().colors[1]
            }
        }

    }, {
        min: 0, max: 10, // Secondary yAxis
        title: {
            text: 'Lluvia (mm/h)',
            color: '#dfe3ee'
        },
        labels: {
            format: '{value}',
            color: '#dfe3ee'
        },
        opposite: true
    } //secondary axis

        /* ,        { // third yAxis
             min: 0, max: 1
         }, //third */

    ],
    tooltip: {
        shared: true
    },
    credits: {
        text: 'ClimaYa.com / Highcharts.com',
        href: 'javascript:;'
    },
    // legend: {
    //     layout: 'vertical',
    //     align: 'left',
    //     x: 120,
    //     verticalAlign: 'top',
    //     y: 100,
    //     floating: true,
    //     backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
    // },

    series: [ //series

        { //lluvia
            name: 'Cielo',
            color: {
                linearGradient: { x1: 0, x2: 0, y1: 0, y2: 1 },
                stops: [
                    [0, 'rgba(128,128,128,.150)'],
                    [1, 'rgba(128,128,128,.020)']
                ]
            },
            type: 'areaspline',

            scrollablePlotArea: {
                minWidth: 700,
                scrollPositionX: 1
            },
            yAxis: 1,

            data: cloud,
            tooltip: {
                valueSuffix: ''
            }

        }, //cloud

        { //lluvia
            name: 'Lluvia',
            /*    color: {
    linearGradient: { x1: 0, x2: 0, y1: 0, y2: 1 },
    stops: [
        [0, 'rgba(000,000,255,.5)'],
        [1, 'rgba(000,000,255,.1)']
    ]
},*/
            type: 'areaspline',

            scrollablePlotArea: {
                minWidth: 700,
                scrollPositionX: 1
            },
            yAxis: 1,

            data: pcpn,
            zones: [{
                value: 0,
                color: 'lightblue'
            }, {
                value: 2,
                color: 'DEEPSKYBLUE'
            }, {
                color: 'dodgerblue'
            }],
            tooltip: {
                valueSuffix: ' mm/h'
            }

        }, //lluvia

        { //temp
            name: 'Temperatura',
            lineWidth: 4,
            color: 'gray',
            dataLabels: {
                enabled: false
            },
            type: 'spline',
            data: temp,

            zones: [{
                value: -5,
                color: 'darkblue'
            }, {
                value: 0,
                color: 'blue'
            }, {
                value: 5,
                color: '#33ccff'
            }, {
                value: 10,
                color: '#008000'
            }, {
                value: 15,
                color: '#99cc00'
            }, {
                value: 20,
                color: '#e6e600'
            }, {
                value: 25,
                color: '#ff9900'
            }, {
                value: 30,
                color: '#e69500'
            }, {
                value: 35,
                color: '#b30000'
            }, {
                color: 'darkred'
            }],

            tooltip: {
                valueSuffix: 'ºC'
            }

        }

        //tmax

        /*   { // viento
                name: 'Viento',
                color: 'darkgray',
                type: 'line',
                pointWidth : 0,
             dataLabels: {
                enabled: true, color:'darkgreen'
            },
                data: wind,
                tooltip: {
                    valueSuffix: 'kph'
                }

            } //viento
             */
    ] //series
    ,
    scrollbar: {
        enabled: false,
        barBackgroundColor: 'lightgray',
        barBorderRadius: 7,
        barBorderWidth: 0,
        buttonBackgroundColor: 'lightgray',
        buttonBorderWidth: 0,
        buttonArrowColor: 'orange',
        buttonBorderRadius: 7,
        rifleColor: 'orange',
        trackBackgroundColor: 'white',
        trackBorderWidth: 0,
        trackBorderColor: 'silver',
        trackBorderRadius: 7
    }
});

chart_temps.renderer.button("<h3>🗓</h3><b>7 días</b>", 20, 308, function () {
    chart_temps.xAxis[0].setExtremes(24 * 0, 24 * 6.8);
}).add();

// ---------------------- WIND ----------------------

maxWind = Math.max.apply(Math, windVal);
//console.log('data viento',wind);
//console.log('max-viento', maxWind);

Highcharts.chart('chart-winds', {
    title: { text: 'Velocidad y dirección de viento' }, chart: { zoomType: 'xy', backgroundColor: '#F8F8F8' },
    subtitle: {
        text: 'La Esperanza, Quetzaltenango, 09023, Guatemala'
    },
    xAxis: [{
        categories: hours,
        crosshair: true
    }],
    yAxis: [{
        title: { text: 'Kph.' }, min: 0, max: ((maxWind > 40) ? 100 : 40), tickInterval: 20,
        plotBands: [{
            color: '#f7fcf5',
            from: 0,
            to: 10, label: { text: 'Calma', style: { color: 'lightgrey' } }
        },
        {
            color: '#e5f5e0',
            from: 10,
            to: 20, label: { text: 'Leve', style: { color: 'green' } }
        },
        {
            color: '#ffffcc',
            from: 20,
            to: 40, label: { text: 'Moderado', style: { color: 'gold' } }
        },
        {
            color: '#fdd49e',
            from: 40,
            to: 60, label: { text: 'Fuerte', style: { color: 'orange' } }
        },
        {
            color: '#fcbba1',
            from: 60,
            to: 80, label: { text: 'Muy Fuerte', style: { color: 'red' } }
        },
        {
            color: '#fb6a4a',
            from: 80,
            to: 100, label: { text: 'Extremo' }
        }]
    }],

    series: [
        {
            dataLabels: {
                enabled: false
            },
            type: 'spline',
            keys: ['y', 'rotation'], // rotation is not used here
            data: wind,
            color: '#707070',
            //         fillColor: {
            //             linearGradient: { x1: 0, x2: 0, y1: 0, y2: 1 },
            //             stops: [
            //                 [0, Highcharts.getOptions().colors[0]],
            //                 [
            //                     1,
            //                     Highcharts.color(Highcharts.getOptions().colors[3])
            //                         .setOpacity(.01).get()
            //                 ]
            //             ]
            //         },
            name: 'Viento',
            tooltip: {
                valueSuffix: ' kph.'
            }
        },
        //serie 2
        {
            type: 'windbarb',
            data: barbs,
            name: 'Vto.',
            color: Highcharts.getOptions().colors[3],
            showInLegend: false,
            enableMouseTracking: false
        } //fin serie2

    ]

});